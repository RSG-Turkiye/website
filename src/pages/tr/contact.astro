---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getLangFromUrl, useTranslations } from '../../i18n/ui';

const lang = 'tr';
const t = useTranslations(lang);
const pageTitle = "İletişim - RSG Türkiye";
---

<BaseLayout pageTitle={pageTitle}>
  <!-- Hero Section -->
  <section class="hero text-center py-5">
    <div class="container">
      <div class="row align-items-center min-vh-50">
        <div class="col-lg-8 mx-auto">
          <h1 class="display-3 fw-bold mb-4">{t('contact.title')}</h1>
          <p class="lead fs-4">
            {t('contact.subtitle')}
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Information Section -->
  <section class="contact-info py-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto text-center mb-5">
          <h2 class="display-5 fw-bold mb-4">{t('contact.info.title')}</h2>
          <p class="lead">
            Etkinliklerimiz, webinarlarımız hakkında sorularınız var mı veya topluluğumuza katılmak mı istiyorsunuz? Bizimle iletişime geçin!
          </p>
        </div>
      </div>
      <div class="row g-4">
        <div class="col-lg-4 col-md-6">
          <div class="contact-card text-center p-4">
            <div class="contact-icon mb-3">
              <i class="fas fa-envelope fa-3x text-primary"></i>
            </div>
            <h3 class="h4 mb-3">{t('contact.info.email')}</h3>
            <p class="text-muted mb-3">
              Genel sorular, etkinlik bilgileri veya üyelik soruları için bize e-posta gönderin.
            </p>
            <a href="mailto:turkey.rsg@gmail.com" class="btn btn-outline-primary">
              turkey.rsg@gmail.com
            </a>
          </div>
        </div>
        <div class="col-lg-4 col-md-6">
          <div class="contact-card text-center p-4">
            <div class="contact-icon mb-3">
              <i class="fas fa-users fa-3x text-primary"></i>
            </div>
            <h3 class="h4 mb-3">Topluluğumuza Katılın</h3>
            <p class="text-muted mb-3">
              RSG Türkiye'ye katılmakla ilgileniyor musunuz? Üyelik ve katılım hakkında daha fazla bilgi edinin.
            </p>
            <a href="/tr/join" class="btn btn-outline-primary">Katıl</a>
          </div>
        </div>
        <div class="col-lg-4 col-md-6">
          <div class="contact-card text-center p-4">
            <div class="contact-icon mb-3">
              <i class="fas fa-calendar-alt fa-3x text-primary"></i>
            </div>
            <h3 class="h4 mb-3">Etkinlik Soruları</h3>
            <p class="text-muted mb-3">
              Webinarlarımız, atölye çalışmalarımız veya sempozyumlarımız hakkında sorularınız var mı? Size yardımcı olmaya hazırız.
            </p>
            <a href="/tr/events" class="btn btn-outline-primary">Etkinlikleri Görüntüle</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Form Section -->
  <section class="contact-form py-5 bg-light">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <div class="card">
            <div class="card-body p-5">
              <h2 class="text-center mb-4">Bize Mesaj Gönderin</h2>
              <form id="contactForm">
                <div class="row g-3">
                  <div class="col-md-6">
                    <label for="firstName" class="form-label">Ad *</label>
                    <input type="text" class="form-control" id="firstName" name="firstName" required>
                  </div>
                  <div class="col-md-6">
                    <label for="lastName" class="form-label">Soyad *</label>
                    <input type="text" class="form-control" id="lastName" name="lastName" required>
                  </div>
                  <div class="col-md-6">
                    <label for="email" class="form-label">E-posta Adresi *</label>
                    <input type="email" class="form-control" id="email" name="email" required>
                  </div>
                  <div class="col-md-6">
                    <label for="institution" class="form-label">Kurum</label>
                    <input type="text" class="form-control" id="institution" name="institution">
                  </div>
                  <div class="col-12">
                    <label for="subject" class="form-label">Konu *</label>
                    <input type="text" class="form-control" id="subject" name="subject" required>
                  </div>
                  <div class="col-12">
                    <label for="message" class="form-label">Mesaj *</label>
                    <textarea class="form-control" id="message" name="message" rows="5" required></textarea>
                  </div>
                  <div class="col-12 text-center">
                    <button type="submit" class="btn btn-primary btn-lg px-5">
                      <i class="fas fa-paper-plane me-2"></i>{t('contact.form.send')}
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Social Media Section -->
  <section class="social-media py-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto text-center">
          <h2 class="display-5 fw-bold mb-4">{t('contact.info.social')}</h2>
          <p class="lead mb-4">
            Güncellemeler ve duyurular için sosyal medyada bizimle bağlantıda kalın.
          </p>
          <div class="social-links">
            <a href="#" class="social-link" title="Twitter">
              <i class="fab fa-twitter fa-2x"></i>
            </a>
            <a href="#" class="social-link" title="LinkedIn">
              <i class="fab fa-linkedin fa-2x"></i>
            </a>
            <a href="#" class="social-link" title="Facebook">
              <i class="fab fa-facebook fa-2x"></i>
            </a>
            <a href="#" class="social-link" title="Instagram">
              <i class="fab fa-instagram fa-2x"></i>
            </a>
            <a href="#" class="social-link" title="YouTube">
              <i class="fab fa-youtube fa-2x"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="faq py-5 bg-light">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <h2 class="text-center mb-5">Sık Sorulan Sorular</h2>
          <div class="accordion" id="faqAccordion">
            <div class="accordion-item">
              <h2 class="accordion-header" id="faq1">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
                  RSG Türkiye'ye nasıl katılabilirim?
                </button>
              </h2>
              <div id="collapse1" class="accordion-collapse collapse show" aria-labelledby="faq1" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                  Hesaplamalı biyoloji ve biyoinformatik ile ilgilenen herkes topluluğumuza katılmaya davetlidir. Etkinliklerimize, webinarlarımıza katılarak veya doğrudan bizimle iletişime geçerek başlayabilirsiniz. Daha fazla bilgi için <a href="/tr/join">Katıl</a> sayfamızı ziyaret edin.
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="faq2">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
                  Etkinlikleriniz uluslararası katılımcılara açık mı?
                </button>
              </h2>
              <div id="collapse2" class="accordion-collapse collapse" aria-labelledby="faq2" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                  Evet! Özellikle webinarlarımız olmak üzere birçok etkinliğimiz uluslararası katılımcılara açıktır. Dünya çapındaki araştırmacılardan işbirliği ve katılımı memnuniyetle karşılıyoruz.
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="faq3">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
                  Yaklaşan etkinlikler hakkında nasıl güncel kalabilirim?
                </button>
              </h2>
              <div id="collapse3" class="accordion-collapse collapse" aria-labelledby="faq3" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                  Bültenimize abone olarak, sosyal medyada bizi takip ederek veya etkinlik duyuruları için web sitemizi düzenli olarak kontrol ederek güncel kalabilirsiniz.
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="faq4">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4" aria-expanded="false" aria-controls="collapse4">
                  Webinar veya atölye çalışması konusu önerebilir miyim?
                </button>
              </h2>
              <div id="collapse4" class="accordion-collapse collapse" aria-labelledby="faq4" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                  Kesinlikle! Webinar konuları ve atölye çalışması temaları için önerileri memnuniyetle karşılıyoruz. Lütfen önerinizle birlikte bizimle iletişime geçin, tartışmaktan mutluluk duyarız.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .hero {
    background: var(--gradient-hero);
    min-height: 50vh;
    display: flex;
    align-items: center;
    position: relative;
    overflow: hidden;
    border-bottom: 1px solid var(--border-light);
  }

  .hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
    opacity: 0.3;
  }

  .hero .container {
    position: relative;
    z-index: 1;
  }

  .min-vh-50 {
    min-height: 50vh;
  }

  .contact-card {
    background: var(--bg-elevated);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-md);
    border: 1px solid var(--border-light);
    transition: all var(--transition-normal);
    height: 100%;
  }

  .contact-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-2xl);
  }

  .contact-icon {
    color: var(--primary-600);
  }

  .social-links {
    display: flex;
    justify-content: center;
    gap: var(--spacing-lg);
    flex-wrap: wrap;
  }

  .social-link {
    color: var(--text-secondary);
    transition: all var(--transition-normal);
    padding: var(--spacing-md);
    border-radius: var(--radius-lg);
    background: var(--bg-elevated);
    border: 1px solid var(--border-light);
  }

  .social-link:hover {
    color: var(--primary-600);
    transform: translateY(-4px);
    box-shadow: var(--shadow-md);
  }

  .accordion-button:not(.collapsed) {
    background-color: var(--primary-50);
    color: var(--primary-700);
  }

  .accordion-button:focus {
    box-shadow: 0 0 0 0.25rem rgba(99, 102, 241, 0.25);
  }
</style>

<script>
  // Contact form handling
  function initContactForm() {
    const contactForm = document.getElementById('contactForm') as HTMLFormElement;
    if (!contactForm) return;

    contactForm.addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Get form data
      const formData = new FormData(contactForm);
      const data = Object.fromEntries(formData);
      
      // Here you would typically send the data to your backend
      console.log('Form submitted:', data);
      
      // Show success message
      alert('Mesajınız başarıyla gönderildi! En kısa sürede size geri döneceğiz.');
      
      // Reset form
      contactForm.reset();
    });
  }

  // Initialize on page load
  document.addEventListener('DOMContentLoaded', initContactForm);
</script> 